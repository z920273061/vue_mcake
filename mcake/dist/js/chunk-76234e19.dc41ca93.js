(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-76234e19"],{1276:function(t,s,i){"use strict";var o=i("d784"),e=i("44e7"),n=i("825a"),a=i("1d80"),r=i("4840"),u=i("8aa5"),c=i("50c4"),d=i("14c3"),l=i("9263"),g=i("d039"),h=[].push,f=Math.min,p=4294967295,v=!g((function(){return!RegExp(p,"y")}));o("split",2,(function(t,s,i){var o;return o="c"=="abbc".split(/(b)*/)[1]||4!="test".split(/(?:)/,-1).length||2!="ab".split(/(?:ab)*/).length||4!=".".split(/(.?)(.?)/).length||".".split(/()()/).length>1||"".split(/.?/).length?function(t,i){var o=String(a(this)),n=void 0===i?p:i>>>0;if(0===n)return[];if(void 0===t)return[o];if(!e(t))return s.call(o,t,n);var r,u,c,d=[],g=(t.ignoreCase?"i":"")+(t.multiline?"m":"")+(t.unicode?"u":"")+(t.sticky?"y":""),f=0,v=new RegExp(t.source,g+"g");while(r=l.call(v,o)){if(u=v.lastIndex,u>f&&(d.push(o.slice(f,r.index)),r.length>1&&r.index<o.length&&h.apply(d,r.slice(1)),c=r[0].length,f=u,d.length>=n))break;v.lastIndex===r.index&&v.lastIndex++}return f===o.length?!c&&v.test("")||d.push(""):d.push(o.slice(f)),d.length>n?d.slice(0,n):d}:"0".split(void 0,0).length?function(t,i){return void 0===t&&0===i?[]:s.call(this,t,i)}:s,[function(s,i){var e=a(this),n=void 0==s?void 0:s[t];return void 0!==n?n.call(s,e,i):o.call(String(e),s,i)},function(t,e){var a=i(o,t,this,e,o!==s);if(a.done)return a.value;var l=n(t),g=String(this),h=r(l,RegExp),m=l.unicode,k=(l.ignoreCase?"i":"")+(l.multiline?"m":"")+(l.unicode?"u":"")+(v?"y":"g"),x=new h(v?l:"^(?:"+l.source+")",k),b=void 0===e?p:e>>>0;if(0===b)return[];if(0===g.length)return null===d(x,g)?[g]:[];var C=0,_=0,w=[];while(_<g.length){x.lastIndex=v?_:0;var y,I=d(x,v?g:g.slice(_));if(null===I||(y=f(c(x.lastIndex+(v?0:_)),g.length))===C)_=u(g,_,m);else{if(w.push(g.slice(C,_)),w.length===b)return w;for(var N=1;N<=I.length-1;N++)if(w.push(I[N]),w.length===b)return w;_=C=y}}return w.push(g.slice(C)),w}]}),!v)},"13d6":function(t,s,i){"use strict";var o=i("2932"),e=i.n(o);e.a},"1dde":function(t,s,i){var o=i("d039"),e=i("b622"),n=i("60ae"),a=e("species");t.exports=function(t){return n>=51||!o((function(){var s=[],i=s.constructor={};return i[a]=function(){return{foo:1}},1!==s[t](Boolean).foo}))}},2932:function(t,s,i){},"44e7":function(t,s,i){var o=i("861d"),e=i("c6b6"),n=i("b622"),a=n("match");t.exports=function(t){var s;return o(t)&&(void 0!==(s=t[a])?!!s:"RegExp"==e(t))}},"65f0":function(t,s,i){var o=i("861d"),e=i("e8b5"),n=i("b622"),a=n("species");t.exports=function(t,s){var i;return e(t)&&(i=t.constructor,"function"!=typeof i||i!==Array&&!e(i.prototype)?o(i)&&(i=i[a],null===i&&(i=void 0)):i=void 0),new(void 0===i?Array:i)(0===s?0:s)}},8629:function(t,s,i){"use strict";i.r(s);var o=function(){var t=this,s=t.$createElement,i=t._self._c||s;return i("div",{staticClass:"goodsList"},t._l(t.goodsList,(function(t){return i("goods-item",{key:t.goodsId,attrs:{goods:t}})})),1)},e=[],n=function(){var t=this,s=t.$createElement,o=t._self._c||s;return o("div",{staticClass:"goodsItem"},[o("img",{staticClass:"goodsImg",attrs:{src:t.goods.img,alt:""},on:{click:t.toDetail}}),o("h3",[t._v(t._s(t.goods.goodsNameCH))]),o("h4",[t._v(t._s(t.goods.goodsNameEN))]),o("div",{staticClass:"goodsPrice"},[o("span",[t._v("￥"+t._s(t.goods.skuList[0].price))]),o("el-button",{attrs:{type:"text"},on:{click:function(s){s.stopPropagation(),t.addCartBoxVisible=!0}}},[o("img",{attrs:{src:i("c659")}})])],1),o("div",{staticClass:"cartBox",on:{click:function(t){t.stopPropagation()}}},[o("el-dialog",{attrs:{visible:t.addCartBoxVisible,width:"400px"},on:{"update:visible":function(s){t.addCartBoxVisible=s}}},[o("div",{staticClass:"cartBoxContent",attrs:{slot:""},slot:"default"},[o("div",{staticClass:"cartImg"},[o("img",{directives:[{name:"lazy",rawName:"v-lazy",value:t.goods.img,expression:"goods.img"}]}),o("div",[o("span",[t._v(t._s(t.goods.goodsNameCH))]),o("span",[t._v(t._s(t.goods.goodsNameEN))]),o("span",[t._v("￥"+t._s(t.price*t.num))])])]),o("div",{staticClass:"cartSku"},[o("span",[t._v("规格选择")]),o("el-select",{on:{change:t.chooseSku},model:{value:t.showSku,callback:function(s){t.showSku=s},expression:"showSku"}},t._l(t.goods.skuList,(function(t,s){return o("el-option",{key:s,attrs:{value:t.fit?t.weight+" - "+t.fit:t.weight,"value-key":t.skuId}})})),1)],1),o("div",{staticClass:"cartNum"},[o("span",[t._v("数量选择")]),o("div",{staticClass:"num"},[o("span",{staticClass:"jian",on:{click:function(s){return t.changeNum(0)}}},[t._v("-")]),o("input",{directives:[{name:"model",rawName:"v-model",value:t._num,expression:"_num"}],staticClass:"number",attrs:{type:"text"},domProps:{value:t._num},on:{input:function(s){s.target.composing||(t._num=s.target.value)}}}),o("span",{staticClass:"jia",on:{click:function(s){return t.changeNum(1)}}},[t._v("+")])])])]),o("div",{staticClass:"cartBoxFooter",attrs:{slot:"footer"},slot:"footer"},[o("div",{on:{click:t.closeAddCartBox}},[t._v("取消")]),o("div",{on:{click:t.commit}},[t._v("确认")])])])],1)])},a=[],r=(i("c975"),i("d81d"),i("ac1f"),i("5319"),i("1276"),i("bc3a")),u=i.n(r),c={name:"goodsItem",data:function(){return{num:1,addCartBoxVisible:!1,price:this.goods.skuList[0].price,totalPrice:0,sku:this.goods.skuList[0],showSku:this.goods.skuList[0].fit?this.goods.skuList[0].weight+" - "+this.goods.skuList[0].fit:this.goods.skuList[0].weight}},props:["goods"],computed:{_num:{get:function(){return this.num},set:function(t){this.num=t.replace(/[^\d]/g,"")}}},methods:{toDetail:function(){this.$router.push({name:"goodsDetail",params:{goodsId:this.goods.goodsId}})},closeAddCartBox:function(){this.addCartBoxVisible=!1},chooseSku:function(t){var s={},i="";i=-1!=t.indexOf(" - ")?t.split(" - ")[0]:t,this.goods.skuList.map((function(t){t.weight==i&&(s=t)})),this.sku=s,this.price=s.price},changeNum:function(t){t?this.num++:this.num>1&&this.num--},commit:function(){var t={goodsId:this.goods.goodsId,goodsNameCH:this.goods.goodsNameCH,goodsNameEN:this.goods.goodsNameEN,price:this.price,img:this.goods.img,sku:{skuId:this.sku.skuId,size:this.sku.size,weight:this.sku.weight,fit:this.sku.fit,price:this.sku.price},cartNum:this.num,isChecked:!0};this.addCart(t)},addCart:function(t){var s=this;u.a.post("http://localhost:3000/goods/addCart",t).then((function(t){"0"==t.data.status?(s.addCartBoxVisible=!1,s.$message({message:"添加到购物车成功",type:"success"})):s.$message({message:"添加到购物车失败",type:"error"})}))}}},d=c,l=(i("a792"),i("2877")),g=Object(l["a"])(d,n,a,!1,null,"1d3375ae",null),h=g.exports,f={name:"Goods",components:{GoodsItem:h},data:function(){return{goodsList:[]}},watch:{$route:function(t,s){this.getGoodsList(this.$route.params.type)}},mounted:function(){this.getGoodsList(this.$route.params.type)},methods:{getGoodsList:function(t){var s=this;this.$api.goods.goodsList(t).then((function(t){"0"==t.status?s.goodsList=t.data.list:s.goodsList=[]})).catch((function(t){console.log(t.message)}))}}},p=f,v=(i("13d6"),Object(l["a"])(p,o,e,!1,null,"82565798",null));s["default"]=v.exports},a792:function(t,s,i){"use strict";var o=i("b6f4"),e=i.n(o);e.a},b301:function(t,s,i){"use strict";var o=i("d039");t.exports=function(t,s){var i=[][t];return!i||!o((function(){i.call(null,s||function(){throw 1},1)}))}},b6f4:function(t,s,i){},b727:function(t,s,i){var o=i("f8c2"),e=i("44ad"),n=i("7b0b"),a=i("50c4"),r=i("65f0"),u=[].push,c=function(t){var s=1==t,i=2==t,c=3==t,d=4==t,l=6==t,g=5==t||l;return function(h,f,p,v){for(var m,k,x=n(h),b=e(x),C=o(f,p,3),_=a(b.length),w=0,y=v||r,I=s?y(h,_):i?y(h,0):void 0;_>w;w++)if((g||w in b)&&(m=b[w],k=C(m,w,x),t))if(s)I[w]=k;else if(k)switch(t){case 3:return!0;case 5:return m;case 6:return w;case 2:u.call(I,m)}else if(d)return!1;return l?-1:c||d?d:I}};t.exports={forEach:c(0),map:c(1),filter:c(2),some:c(3),every:c(4),find:c(5),findIndex:c(6)}},c975:function(t,s,i){"use strict";var o=i("23e7"),e=i("4d64").indexOf,n=i("b301"),a=[].indexOf,r=!!a&&1/[1].indexOf(1,-0)<0,u=n("indexOf");o({target:"Array",proto:!0,forced:r||u},{indexOf:function(t){return r?a.apply(this,arguments)||0:e(this,t,arguments.length>1?arguments[1]:void 0)}})},d81d:function(t,s,i){"use strict";var o=i("23e7"),e=i("b727").map,n=i("1dde");o({target:"Array",proto:!0,forced:!n("map")},{map:function(t){return e(this,t,arguments.length>1?arguments[1]:void 0)}})},e8b5:function(t,s,i){var o=i("c6b6");t.exports=Array.isArray||function(t){return"Array"==o(t)}}}]);
//# sourceMappingURL=chunk-76234e19.dc41ca93.js.map