{"remainingRequest":"E:\\WorkSpace\\vue_mcake\\mcake\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!E:\\WorkSpace\\vue_mcake\\mcake\\src\\views\\Login.vue?vue&type=script&lang=js&","dependencies":[{"path":"E:\\WorkSpace\\vue_mcake\\mcake\\src\\views\\Login.vue","mtime":1582012952466},{"path":"E:\\WorkSpace\\vue_mcake\\mcake\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"E:\\WorkSpace\\vue_mcake\\mcake\\node_modules\\babel-loader\\lib\\index.js","mtime":499162500000},{"path":"E:\\WorkSpace\\vue_mcake\\mcake\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"E:\\WorkSpace\\vue_mcake\\mcake\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCmltcG9ydCB7bWFwQWN0aW9ucyxtYXBHZXR0ZXJzfSBmcm9tICd2dWV4JzsKZXhwb3J0IGRlZmF1bHQgewogIG5hbWU6ICJMb2dpbiIsCiAgZGF0YTogKCkgPT4gewogICAgcmV0dXJuIHsKICAgICAgdXNlck5hbWU6ICcnLAogICAgICB1c2VyUHdkOiAnJywKICAgICAgbG9naW46dHJ1ZSwKICAgIH0KICB9LAogIG1vdW50ZWQoKSB7CiAgfSwKICBtZXRob2RzOiB7CiAgICAuLi5tYXBBY3Rpb25zKFsnc2V0VXNlciddKSwKICAgIC8v55m75b2VCiAgICBzaWduSW4oKSB7CiAgICAgIGlmKCF0aGlzLnVzZXJOYW1lKXsKICAgICAgICB0aGlzLiRtZXNzYWdlLndhcm5pbmcoJ+ivt+i+k+WFpei0puWPtycpOwogICAgICAgIHJldHVybjsKICAgICAgfWVsc2UgaWYoIXRoaXMudXNlclB3ZCl7CiAgICAgICAgdGhpcy4kbWVzc2FnZS53YXJuaW5nKCfor7fovpPlhaXlr4bnoIEnKTsKICAgICAgICByZXR1cm47CiAgICAgIH1lbHNlewogICAgICAgIHRoaXMuJGFwaS51c2VyLnNpZ25Jbih0aGlzLnVzZXJOYW1lLCB0aGlzLnVzZXJQd2QpLnRoZW4ocmVzID0+IHsKICAgICAgICAgIGlmIChyZXMuc3RhdHVzID09ICcwJykgewogICAgICAgICAgICB0aGlzLmRhdGEgPSByZXMuZGF0YTsKICAgICAgICAgICAgdGhpcy5zZXRVc2VyKHJlcy5kYXRhKTsKICAgICAgICAgICAgdGhpcy4kbWVzc2FnZS5zdWNjZXNzKCfnmbvlvZXmiJDlip/vvIEnKTsKICAgICAgICAgICAgdGhpcy4kcm91dGVyLnB1c2goJy9teScpOwogICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgdGhpcy4kbWVzc2FnZS5lcnJvcihyZXMubXNnKTsKICAgICAgICAgIH0KICAgICAgICB9KS5jYXRjaChlcnIgPT4gewogICAgICAgICAgdGhpcy4kbWVzc2FnZS5lcnJvcihlcnIubXNnKTsKICAgICAgICB9KTsKICAgICAgfQoKICAgIH0sCiAgICBzaG93U2lnblVwKCl7CiAgICAgIHRoaXMubG9naW4gPSAhdGhpcy5sb2dpbjsKICAgIH0sCiAgICAvL+azqOWGjAogICAgc2lnblVwKCl7CiAgICAgIHRoaXMuJGFwaS51c2VyLnNpZ25VcCh0aGlzLnVzZXJOYW1lLCB0aGlzLnVzZXJQd2QpLnRoZW4ocmVzID0+IHsKICAgICAgICBpZiAocmVzLnN0YXR1cyA9PSAnMCcpIHsKICAgICAgICAgIHRoaXMuc2V0VXNlcihyZXMuZGF0YSk7CiAgICAgICAgICB0aGlzLiRtZXNzYWdlLnN1Y2Nlc3MoJ+azqOWGjOaIkOWKn++8gScpOwogICAgICAgICAgdGhpcy4kcm91dGVyLnB1c2goJy9teScpOwogICAgICAgIH0gZWxzZSB7CiAgICAgICAgICB0aGlzLiRtZXNzYWdlLmVycm9yKHJlcy5tc2cpOwogICAgICAgIH0KICAgICAgfSkuY2F0Y2goZXJyID0+IHsKICAgICAgICB0aGlzLiRtZXNzYWdlLmVycm9yKGVyci5tc2cpOwogICAgICB9KTsKICAgIH0KICB9Cn0K"},{"version":3,"sources":["Login.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;AAoBA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"Login.vue","sourceRoot":"src/views","sourcesContent":["<template>\r\n    <div class=\"loginContent\">\r\n      <div class=\"login\" v-if=\"login\">\r\n        <input class=\"username\" type=\"text\" name=\"username\" placeholder=\"请输入用户名\" v-model=\"userName\">\r\n        <input class=\"password\" type=\"password\" name=\"password\" placeholder=\"请输入密码\" v-model=\"userPwd\">\r\n        <el-button round size=\"medium\" class=\"add-cart\" @click=\"signIn\">登录</el-button>\r\n        <span class=\"signUp\" @click=\"showSignUp\">没有账号？立即注册</span>\r\n      </div>\r\n      <div class=\"login reg\" v-if=\"!login\">\r\n        <input class=\"username\" type=\"text\" name=\"username\" placeholder=\"请输入用户名\" v-model=\"userName\">\r\n        <input class=\"password\" type=\"password\" name=\"password\" placeholder=\"请输入密码\" v-model=\"userPwd\">\r\n        <el-button round size=\"medium\" class=\"add-cart\" @click=\"signUp\">注册</el-button>\r\n        <span class=\"signUp\" @click=\"showSignUp\">已有账号？前去登录</span>\r\n      </div>\r\n\r\n    </div>\r\n\r\n</template>\r\n\r\n<script>\r\n  import {mapActions,mapGetters} from 'vuex';\r\n  export default {\r\n    name: \"Login\",\r\n    data: () => {\r\n      return {\r\n        userName: '',\r\n        userPwd: '',\r\n        login:true,\r\n      }\r\n    },\r\n    mounted() {\r\n    },\r\n    methods: {\r\n      ...mapActions(['setUser']),\r\n      //登录\r\n      signIn() {\r\n        if(!this.userName){\r\n          this.$message.warning('请输入账号');\r\n          return;\r\n        }else if(!this.userPwd){\r\n          this.$message.warning('请输入密码');\r\n          return;\r\n        }else{\r\n          this.$api.user.signIn(this.userName, this.userPwd).then(res => {\r\n            if (res.status == '0') {\r\n              this.data = res.data;\r\n              this.setUser(res.data);\r\n              this.$message.success('登录成功！');\r\n              this.$router.push('/my');\r\n            } else {\r\n              this.$message.error(res.msg);\r\n            }\r\n          }).catch(err => {\r\n            this.$message.error(err.msg);\r\n          });\r\n        }\r\n\r\n      },\r\n      showSignUp(){\r\n        this.login = !this.login;\r\n      },\r\n      //注册\r\n      signUp(){\r\n        this.$api.user.signUp(this.userName, this.userPwd).then(res => {\r\n          if (res.status == '0') {\r\n            this.setUser(res.data);\r\n            this.$message.success('注册成功！');\r\n            this.$router.push('/my');\r\n          } else {\r\n            this.$message.error(res.msg);\r\n          }\r\n        }).catch(err => {\r\n          this.$message.error(err.msg);\r\n        });\r\n      }\r\n    }\r\n  }\r\n</script>\r\n\r\n<style lang=\"less\">\r\n  .loginContent{\r\n    display: flex;\r\n    align-items: center;\r\n    justify-content: center;\r\n    .login {\r\n      input {\r\n        display: block;\r\n        width: 280px;\r\n        height: 38px;\r\n        line-height: 38px;\r\n        text-indent: 2px;\r\n        font-size: 14px;\r\n        color: #666;\r\n        background-color: rgb(246, 244, 236);\r\n        border-bottom: 1px solid #e8e8e8;\r\n        border-top: none;\r\n        border-right: none;\r\n        border-left: none;\r\n        outline: none;\r\n        margin-bottom: 20px;\r\n      }\r\n      .signUp {\r\n        margin-left: 12px;\r\n        cursor: pointer;\r\n      }\r\n\r\n    }\r\n  }\r\n\r\n</style>\r\n"]}]}