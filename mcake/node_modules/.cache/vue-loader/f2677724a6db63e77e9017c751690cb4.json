{"remainingRequest":"E:\\WorkSpace\\cakeProject\\cake\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!E:\\WorkSpace\\cakeProject\\cake\\src\\components\\goodsItem.vue?vue&type=style&index=0&id=5c0871ae&scoped=true&lang=less&","dependencies":[{"path":"E:\\WorkSpace\\cakeProject\\cake\\src\\components\\goodsItem.vue","mtime":1581601723349},{"path":"E:\\WorkSpace\\cakeProject\\cake\\node_modules\\css-loader\\dist\\cjs.js","mtime":499162500000},{"path":"E:\\WorkSpace\\cakeProject\\cake\\node_modules\\vue-loader\\lib\\loaders\\stylePostLoader.js","mtime":499162500000},{"path":"E:\\WorkSpace\\cakeProject\\cake\\node_modules\\postcss-loader\\src\\index.js","mtime":499162500000},{"path":"E:\\WorkSpace\\cakeProject\\cake\\node_modules\\less-loader\\dist\\cjs.js","mtime":499162500000},{"path":"E:\\WorkSpace\\cakeProject\\cake\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"E:\\WorkSpace\\cakeProject\\cake\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:CgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCi5nb29kc0l0ZW0gewogIHdpZHRoOiAzNTBweDsKCiAgLmdvb2RzSW1nIHsKICAgIHdpZHRoOiAzNTBweDsKICAgIGhlaWdodDogMzUwcHg7CiAgICBtYXJnaW4tYm90dG9tOiAxMnB4OwogICAgY3Vyc29yOiBwb2ludGVyOwogIH0KCiAgaDMgewogICAgbWFyZ2luLWJvdHRvbTogNnB4OwogICAgbGluZS1oZWlnaHQ6IDIwcHg7CiAgfQoKICBoNCB7CiAgICBmb250LXdlaWdodDogbm9ybWFsOwogICAgZm9udC1zaXplOiAxMnB4OwogICAgY29sb3I6ICM3YTdhN2E7CiAgICBtYXJnaW4tYm90dG9tOiAxMHB4OwogIH0KCiAgLmdvb2RzUHJpY2UgewogICAgaGVpZ2h0OiA1MHB4OwogICAgZGlzcGxheTogZmxleDsKICAgIGp1c3RpZnktY29udGVudDogc3BhY2UtYmV0d2VlbjsKICAgIGFsaWduLWl0ZW1zOiBjZW50ZXI7CgogICAgc3BhbiB7CiAgICAgIGZvbnQtd2VpZ2h0OiA1MDA7CiAgICAgIGZvbnQtc2l6ZTogMThweDsKICAgICAgY29sb3I6ICMwMDA7CiAgICB9CgogICAgaW1nIHsKICAgICAgdmVydGljYWwtYWxpZ246IG1pZGRsZTsKICAgICAgY3Vyc29yOiBwb2ludGVyOwogICAgICBtYXJnaW4tcmlnaHQ6IDM4cHg7CiAgICB9CiAgfQoKICAuY2FydEJveCB7CiAgICAvZGVlcC8gLmVsLWRpYWxvZ19fYm9keSB7CiAgICAgIHBhZGRpbmc6IDA7CiAgICB9CgogICAgL2RlZXAvIC5lbC1kaWFsb2dfX2Zvb3RlciB7CiAgICAgIHBhZGRpbmc6IDA7CiAgICB9CgogICAgLmNhcnRCb3hDb250ZW50IHsKICAgICAgLmNhcnRJbWcgewogICAgICAgIGRpc3BsYXk6IGZsZXg7CiAgICAgICAgaGVpZ2h0OiAxMjBweDsKCiAgICAgICAgaW1nIHsKICAgICAgICAgIHdpZHRoOiAxMDBweDsKICAgICAgICAgIGhlaWdodDogMTAwcHg7CiAgICAgICAgICBtYXJnaW4tcmlnaHQ6IDI0cHg7CiAgICAgICAgICBtYXJnaW4tbGVmdDogMTZweDsKICAgICAgICB9CgogICAgICAgIHNwYW4gewogICAgICAgICAgZGlzcGxheTogYmxvY2s7CiAgICAgICAgICBmb250LXNpemU6IDE2cHg7CiAgICAgICAgICBtYXJnaW4tYm90dG9tOiA2cHg7CiAgICAgICAgfQoKICAgICAgICBzcGFuOm50aC1jaGlsZCgyKSB7CiAgICAgICAgICBjb2xvcjogI2EyYTJhMjsKICAgICAgICB9CiAgICAgIH0KCiAgICAgIC5jYXJ0U2t1LCAuY2FydE51bSB7CiAgICAgICAgcGFkZGluZy1sZWZ0OiAxNnB4OwogICAgICAgIHBhZGRpbmctcmlnaHQ6IDI0cHg7CiAgICAgICAgY29sb3I6ICNhMmEyYTI7CiAgICAgICAgZm9udC1zaXplOiAxNnB4OwogICAgICAgIGhlaWdodDogNTBweDsKICAgICAgICBsaW5lLWhlaWdodDogNTBweDsKICAgICAgICBib3JkZXItdG9wOiAxcHggc29saWQgI2VhZWFlYTsKICAgICAgICBib3JkZXItYm90dG9tOiAxcHggc29saWQgI2VhZWFlYTsKICAgICAgICBkaXNwbGF5OiBmbGV4OwogICAgICAgIGp1c3RpZnktY29udGVudDogc3BhY2UtYmV0d2VlbjsKICAgICAgICBhbGlnbi1pdGVtczogY2VudGVyOwogICAgICAgIHBvc2l0aW9uOiByZWxhdGl2ZTsKCiAgICAgICAgL2RlZXAvIGlucHV0LmVsLWlucHV0X19pbm5lciB7CiAgICAgICAgICBoZWlnaHQ6IDMwcHg7CiAgICAgICAgICBmb250LXNpemU6IDE2cHg7CiAgICAgICAgICBib3JkZXI6IG5vbmU7CiAgICAgICAgICBjb2xvcjogIzg4ODsKICAgICAgICAgIHRleHQtYWxpZ246IHJpZ2h0OwogICAgICAgICAgb3V0bGluZTogbm9uZTsKICAgICAgICAgIGFwcGVhcmFuY2U6IG5vbmU7CiAgICAgICAgfQogICAgICB9CgogICAgICAuY2FydE51bSB7CiAgICAgICAgYm9yZGVyOiBub25lOwoKICAgICAgICAubnVtIHsKICAgICAgICAgIGRpc3BsYXk6IGZsZXg7CiAgICAgICAgICBhbGlnbi1pdGVtczogY2VudGVyOwoKICAgICAgICAgIC5udW1iZXIgewogICAgICAgICAgICB3aWR0aDogMzBweDsKICAgICAgICAgICAgdGV4dC1hbGlnbjogY2VudGVyOwogICAgICAgICAgICBib3JkZXI6IG5vbmU7CiAgICAgICAgICAgIG91dGxpbmU6IG5vbmU7CiAgICAgICAgICAgIC8qbWFyZ2luOiAwcHggMTBweCAwcHg7Ki8KICAgICAgICAgIH0KCiAgICAgICAgICBzcGFuIHsKICAgICAgICAgICAgd2lkdGg6IDI1cHg7CiAgICAgICAgICAgIGhlaWdodDogMjVweDsKICAgICAgICAgICAgZm9udC1zaXplOiAyMHB4OwogICAgICAgICAgICBkaXNwbGF5OiBpbmxpbmUtYmxvY2s7CiAgICAgICAgICAgIHRleHQtYWxpZ246IGNlbnRlcjsKICAgICAgICAgICAgbGluZS1oZWlnaHQ6IDI1cHg7CiAgICAgICAgICAgIGJhY2tncm91bmQ6ICNmMGYwZjA7CiAgICAgICAgICAgIGJvcmRlci1yYWRpdXM6IDUwJTsKICAgICAgICAgICAgY3Vyc29yOiBwb2ludGVyOwogICAgICAgICAgICB1c2VyLXNlbGVjdDogbm9uZTsKICAgICAgICAgIH0KCiAgICAgICAgICBzcGFuOmhvdmVyIHsKICAgICAgICAgICAgYmFja2dyb3VuZDogI2ZmZTMyYTsKICAgICAgICAgIH0KICAgICAgICB9CiAgICAgIH0KICAgIH0KCiAgICAuY2FydEJveEZvb3RlciB7CiAgICAgIGRpc3BsYXk6IGZsZXg7CgogICAgICBkaXYgewogICAgICAgIHdpZHRoOiA1MCU7CiAgICAgICAgaGVpZ2h0OiA1MHB4OwogICAgICAgIGZvbnQtc2l6ZTogMjBweDsKICAgICAgICB0ZXh0LWFsaWduOiBjZW50ZXI7CiAgICAgICAgYmFja2dyb3VuZC1jb2xvcjogI2ZmZTMyYTsKICAgICAgICBsaW5lLWhlaWdodDogNTBweDsKICAgICAgICBjdXJzb3I6IHBvaW50ZXI7CiAgICAgIH0KCiAgICAgIGRpdjpudGgtY2hpbGQoMSkgewogICAgICAgIGJhY2tncm91bmQtY29sb3I6ICM4ODg7CiAgICAgICAgY29sb3I6ICNmZmY7CiAgICAgIH0KICAgIH0KICB9Cn0K"},{"version":3,"sources":["goodsItem.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA0JA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA","file":"goodsItem.vue","sourceRoot":"src/components","sourcesContent":["<template>\r\n  <div class=\"goodsItem\" >\r\n    <img class='goodsImg' v-bind:src=\"goods.img\" alt=\"\" @click=\"toDetail\">\r\n    <h3>{{goods.goodsName}}</h3>\r\n    <div class=\"goodsPrice\">\r\n      <span>￥{{goods.skuList[0].price}}</span>\r\n      <el-button type=\"text\" @click.stop=\"addCartBoxVisible = true\">\r\n        <img src=\"../assets/imgs/car.png\">\r\n      </el-button>\r\n    </div>\r\n\r\n    <!--  隐藏的弹窗 -->\r\n    <div class=\"cartBox\" @click.stop=\"\">\r\n      <el-dialog :visible.sync=\"addCartBoxVisible\" width=\"400px\">\r\n        <div class=\"cartBoxContent\" slot=\"\">\r\n          <div class=\"cartImg\">\r\n            <img v-lazy=\"goods.img\">\r\n            <div>\r\n              <span>{{goods.goodsNameCH}}</span>\r\n              <span>{{goods.goodsNameEN}}</span>\r\n              <span>￥{{price * num}}</span>\r\n            </div>\r\n          </div>\r\n          <div class=\"cartSku\">\r\n            <span>规格选择</span>\r\n            <el-select v-model=\"showSku\" @change=\"chooseSku\">\r\n              <el-option\r\n                v-for=\"(item,index) in goods.skuList\"\r\n                :key=\"index\"\r\n                :value=\"item.fit?item.weight+' - '+item.fit:item.weight\"\r\n                :value-key='item.skuId'>\r\n              </el-option>\r\n            </el-select>\r\n          </div>\r\n          <div class=\"cartNum\">\r\n            <span>数量选择</span>\r\n            <div class=\"num\">\r\n              <span class=\"jian\" @click=\"changeNum(0)\">-</span>\r\n              <input type=\"text\" v-model=\"_num\" class=\"number\">\r\n              <span class=\"jia\" @click=\"changeNum(1)\">+</span>\r\n            </div>\r\n          </div>\r\n        </div>\r\n        <div slot=\"footer\" class=\"cartBoxFooter\">\r\n          <div @click=\"closeAddCartBox\">取消</div>\r\n          <div @click=\"commit\">确认</div>\r\n        </div>\r\n      </el-dialog>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\n    import axios from 'axios';\r\n\r\n    export default {\r\n        name: \"goodsItem\",\r\n        data() {\r\n            return {\r\n                num: 1,\r\n                addCartBoxVisible: false,\r\n                price: this.goods.skuList[0].price,//单价\r\n                totalPrice: 0,//\r\n                sku: this.goods.skuList[0],//选中的sku 加入购物车\r\n                showSku: this.goods.skuList[0].fit ? this.goods.skuList[0].weight + ' - ' + this.goods.skuList[0].fit : this.goods.skuList[0].weight,\r\n            }\r\n        },\r\n        props: ['goods'],\r\n        computed: {\r\n            _num: {\r\n                get: function () {\r\n                    return this.num;\r\n                },\r\n                set: function (newValue) {\r\n                    this.num = newValue.replace(/[^\\d]/g, '');\r\n                }\r\n            }\r\n        },\r\n        methods: {\r\n            //进入详情页\r\n            toDetail() {\r\n                this.$router.push({name: 'goodsDetail', params: {goodsId: this.goods.goodsId}})\r\n            },\r\n            //关闭弹窗\r\n            closeAddCartBox() {\r\n                this.addCartBoxVisible = false\r\n            },\r\n            //选择sku\r\n            chooseSku(value) {\r\n                let sku = {};\r\n                let weight = '';\r\n                if (value.indexOf(' - ') != -1) {\r\n                    weight = value.split(' - ')[0];\r\n                } else {\r\n                    weight = value;\r\n                }\r\n                this.goods.skuList.map(item => {\r\n                    if (item.weight == weight) {\r\n                        sku = item;\r\n                    }\r\n                });\r\n                this.sku = sku;\r\n                this.price = sku.price;\r\n            },\r\n            //增加数量\r\n            changeNum(type) {\r\n                if (type) {\r\n                    this.num++;\r\n                } else {\r\n                    this.num > 1 ? this.num-- : null;\r\n                }\r\n            },\r\n            //确认加入购物车\r\n            commit() {\r\n                let params = {\r\n                    'goodsId': this.goods.goodsId,//商品id\r\n                    'goodsNameCH': this.goods.goodsNameCH,//商品中文名称\r\n                    'goodsNameEN': this.goods.goodsNameEN,//商品英文名称\r\n                    'price': this.price,// 单价\r\n                    'img': this.goods.img,\r\n                    'sku': {\r\n                        'skuId': this.sku.skuId,\r\n                        \"size\": this.sku.size,\r\n                        \"weight\": this.sku.weight,\r\n                        \"fit\": this.sku.fit,\r\n                        \"price\": this.sku.price\r\n                    },\r\n                    'cartNum': this.num,//购买数量\r\n                    'isChecked': true\r\n                };\r\n                this.addCart(params);\r\n            },\r\n            //加入购物车\r\n            addCart(params) {\r\n              this.$api.goods.addCart(params).then(res => {\r\n                if (res.status == '0') {\r\n                        this.addCartBoxVisible = false;\r\n                        this.$message({\r\n                            message: '添加到购物车成功',\r\n                            type: 'success'\r\n                        });\r\n                    } else {\r\n                        this.$message({\r\n                            message: '添加到购物车失败',\r\n                            type: 'error'\r\n                        });\r\n                    }\r\n                })\r\n            },\r\n        }\r\n    }\r\n</script>\r\n\r\n<style scoped lang=\"less\">\r\n  .goodsItem {\r\n    width: 350px;\r\n\r\n    .goodsImg {\r\n      width: 350px;\r\n      height: 350px;\r\n      margin-bottom: 12px;\r\n      cursor: pointer;\r\n    }\r\n\r\n    h3 {\r\n      margin-bottom: 6px;\r\n      line-height: 20px;\r\n    }\r\n\r\n    h4 {\r\n      font-weight: normal;\r\n      font-size: 12px;\r\n      color: #7a7a7a;\r\n      margin-bottom: 10px;\r\n    }\r\n\r\n    .goodsPrice {\r\n      height: 50px;\r\n      display: flex;\r\n      justify-content: space-between;\r\n      align-items: center;\r\n\r\n      span {\r\n        font-weight: 500;\r\n        font-size: 18px;\r\n        color: #000;\r\n      }\r\n\r\n      img {\r\n        vertical-align: middle;\r\n        cursor: pointer;\r\n        margin-right: 38px;\r\n      }\r\n    }\r\n\r\n    .cartBox {\r\n      /deep/ .el-dialog__body {\r\n        padding: 0;\r\n      }\r\n\r\n      /deep/ .el-dialog__footer {\r\n        padding: 0;\r\n      }\r\n\r\n      .cartBoxContent {\r\n        .cartImg {\r\n          display: flex;\r\n          height: 120px;\r\n\r\n          img {\r\n            width: 100px;\r\n            height: 100px;\r\n            margin-right: 24px;\r\n            margin-left: 16px;\r\n          }\r\n\r\n          span {\r\n            display: block;\r\n            font-size: 16px;\r\n            margin-bottom: 6px;\r\n          }\r\n\r\n          span:nth-child(2) {\r\n            color: #a2a2a2;\r\n          }\r\n        }\r\n\r\n        .cartSku, .cartNum {\r\n          padding-left: 16px;\r\n          padding-right: 24px;\r\n          color: #a2a2a2;\r\n          font-size: 16px;\r\n          height: 50px;\r\n          line-height: 50px;\r\n          border-top: 1px solid #eaeaea;\r\n          border-bottom: 1px solid #eaeaea;\r\n          display: flex;\r\n          justify-content: space-between;\r\n          align-items: center;\r\n          position: relative;\r\n\r\n          /deep/ input.el-input__inner {\r\n            height: 30px;\r\n            font-size: 16px;\r\n            border: none;\r\n            color: #888;\r\n            text-align: right;\r\n            outline: none;\r\n            appearance: none;\r\n          }\r\n        }\r\n\r\n        .cartNum {\r\n          border: none;\r\n\r\n          .num {\r\n            display: flex;\r\n            align-items: center;\r\n\r\n            .number {\r\n              width: 30px;\r\n              text-align: center;\r\n              border: none;\r\n              outline: none;\r\n              /*margin: 0px 10px 0px;*/\r\n            }\r\n\r\n            span {\r\n              width: 25px;\r\n              height: 25px;\r\n              font-size: 20px;\r\n              display: inline-block;\r\n              text-align: center;\r\n              line-height: 25px;\r\n              background: #f0f0f0;\r\n              border-radius: 50%;\r\n              cursor: pointer;\r\n              user-select: none;\r\n            }\r\n\r\n            span:hover {\r\n              background: #ffe32a;\r\n            }\r\n          }\r\n        }\r\n      }\r\n\r\n      .cartBoxFooter {\r\n        display: flex;\r\n\r\n        div {\r\n          width: 50%;\r\n          height: 50px;\r\n          font-size: 20px;\r\n          text-align: center;\r\n          background-color: #ffe32a;\r\n          line-height: 50px;\r\n          cursor: pointer;\r\n        }\r\n\r\n        div:nth-child(1) {\r\n          background-color: #888;\r\n          color: #fff;\r\n        }\r\n      }\r\n    }\r\n  }\r\n</style>\r\n"]}]}