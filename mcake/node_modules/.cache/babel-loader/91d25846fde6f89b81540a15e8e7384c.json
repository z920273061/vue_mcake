{"remainingRequest":"E:\\WorkSpace\\vue_mcake\\mcake\\node_modules\\babel-loader\\lib\\index.js!E:\\WorkSpace\\vue_mcake\\mcake\\node_modules\\cache-loader\\dist\\cjs.js??ref--0-0!E:\\WorkSpace\\vue_mcake\\mcake\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!E:\\WorkSpace\\vue_mcake\\mcake\\src\\views\\Login.vue?vue&type=script&lang=js&","dependencies":[{"path":"E:\\WorkSpace\\vue_mcake\\mcake\\src\\views\\Login.vue","mtime":1582012952466},{"path":"E:\\WorkSpace\\vue_mcake\\mcake\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"E:\\WorkSpace\\vue_mcake\\mcake\\node_modules\\babel-loader\\lib\\index.js","mtime":499162500000},{"path":"E:\\WorkSpace\\vue_mcake\\mcake\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"E:\\WorkSpace\\vue_mcake\\mcake\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuc3ltYm9sIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuZmlsdGVyIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuZm9yLWVhY2giOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5vYmplY3QuZ2V0LW93bi1wcm9wZXJ0eS1kZXNjcmlwdG9yIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMub2JqZWN0LmdldC1vd24tcHJvcGVydHktZGVzY3JpcHRvcnMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5vYmplY3Qua2V5cyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL3dlYi5kb20tY29sbGVjdGlvbnMuZm9yLWVhY2giOwppbXBvcnQgX2RlZmluZVByb3BlcnR5IGZyb20gIkU6XFxXb3JrU3BhY2VcXHZ1ZV9tY2FrZVxcbWNha2VcXG5vZGVfbW9kdWxlc1xcQGJhYmVsXFxydW50aW1lLWNvcmVqczMvaGVscGVycy9lc20vZGVmaW5lUHJvcGVydHkiOwoKZnVuY3Rpb24gb3duS2V5cyhvYmplY3QsIGVudW1lcmFibGVPbmx5KSB7IHZhciBrZXlzID0gT2JqZWN0LmtleXMob2JqZWN0KTsgaWYgKE9iamVjdC5nZXRPd25Qcm9wZXJ0eVN5bWJvbHMpIHsgdmFyIHN5bWJvbHMgPSBPYmplY3QuZ2V0T3duUHJvcGVydHlTeW1ib2xzKG9iamVjdCk7IGlmIChlbnVtZXJhYmxlT25seSkgc3ltYm9scyA9IHN5bWJvbHMuZmlsdGVyKGZ1bmN0aW9uIChzeW0pIHsgcmV0dXJuIE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3Iob2JqZWN0LCBzeW0pLmVudW1lcmFibGU7IH0pOyBrZXlzLnB1c2guYXBwbHkoa2V5cywgc3ltYm9scyk7IH0gcmV0dXJuIGtleXM7IH0KCmZ1bmN0aW9uIF9vYmplY3RTcHJlYWQodGFyZ2V0KSB7IGZvciAodmFyIGkgPSAxOyBpIDwgYXJndW1lbnRzLmxlbmd0aDsgaSsrKSB7IHZhciBzb3VyY2UgPSBhcmd1bWVudHNbaV0gIT0gbnVsbCA/IGFyZ3VtZW50c1tpXSA6IHt9OyBpZiAoaSAlIDIpIHsgb3duS2V5cyhPYmplY3Qoc291cmNlKSwgdHJ1ZSkuZm9yRWFjaChmdW5jdGlvbiAoa2V5KSB7IF9kZWZpbmVQcm9wZXJ0eSh0YXJnZXQsIGtleSwgc291cmNlW2tleV0pOyB9KTsgfSBlbHNlIGlmIChPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9ycykgeyBPYmplY3QuZGVmaW5lUHJvcGVydGllcyh0YXJnZXQsIE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3JzKHNvdXJjZSkpOyB9IGVsc2UgeyBvd25LZXlzKE9iamVjdChzb3VyY2UpKS5mb3JFYWNoKGZ1bmN0aW9uIChrZXkpIHsgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRhcmdldCwga2V5LCBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKHNvdXJjZSwga2V5KSk7IH0pOyB9IH0gcmV0dXJuIHRhcmdldDsgfQoKLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KaW1wb3J0IHsgbWFwQWN0aW9ucywgbWFwR2V0dGVycyB9IGZyb20gJ3Z1ZXgnOwpleHBvcnQgZGVmYXVsdCB7CiAgbmFtZTogIkxvZ2luIiwKICBkYXRhOiBmdW5jdGlvbiBkYXRhKCkgewogICAgcmV0dXJuIHsKICAgICAgdXNlck5hbWU6ICcnLAogICAgICB1c2VyUHdkOiAnJywKICAgICAgbG9naW46IHRydWUKICAgIH07CiAgfSwKICBtb3VudGVkOiBmdW5jdGlvbiBtb3VudGVkKCkge30sCiAgbWV0aG9kczogX29iamVjdFNwcmVhZCh7fSwgbWFwQWN0aW9ucyhbJ3NldFVzZXInXSksIHsKICAgIC8v55m75b2VCiAgICBzaWduSW46IGZ1bmN0aW9uIHNpZ25JbigpIHsKICAgICAgdmFyIF90aGlzID0gdGhpczsKCiAgICAgIGlmICghdGhpcy51c2VyTmFtZSkgewogICAgICAgIHRoaXMuJG1lc3NhZ2Uud2FybmluZygn6K+36L6T5YWl6LSm5Y+3Jyk7CiAgICAgICAgcmV0dXJuOwogICAgICB9IGVsc2UgaWYgKCF0aGlzLnVzZXJQd2QpIHsKICAgICAgICB0aGlzLiRtZXNzYWdlLndhcm5pbmcoJ+ivt+i+k+WFpeWvhueggScpOwogICAgICAgIHJldHVybjsKICAgICAgfSBlbHNlIHsKICAgICAgICB0aGlzLiRhcGkudXNlci5zaWduSW4odGhpcy51c2VyTmFtZSwgdGhpcy51c2VyUHdkKS50aGVuKGZ1bmN0aW9uIChyZXMpIHsKICAgICAgICAgIGlmIChyZXMuc3RhdHVzID09ICcwJykgewogICAgICAgICAgICBfdGhpcy5kYXRhID0gcmVzLmRhdGE7CgogICAgICAgICAgICBfdGhpcy5zZXRVc2VyKHJlcy5kYXRhKTsKCiAgICAgICAgICAgIF90aGlzLiRtZXNzYWdlLnN1Y2Nlc3MoJ+eZu+W9leaIkOWKn++8gScpOwoKICAgICAgICAgICAgX3RoaXMuJHJvdXRlci5wdXNoKCcvbXknKTsKICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgIF90aGlzLiRtZXNzYWdlLmVycm9yKHJlcy5tc2cpOwogICAgICAgICAgfQogICAgICAgIH0pLmNhdGNoKGZ1bmN0aW9uIChlcnIpIHsKICAgICAgICAgIF90aGlzLiRtZXNzYWdlLmVycm9yKGVyci5tc2cpOwogICAgICAgIH0pOwogICAgICB9CiAgICB9LAogICAgc2hvd1NpZ25VcDogZnVuY3Rpb24gc2hvd1NpZ25VcCgpIHsKICAgICAgdGhpcy5sb2dpbiA9ICF0aGlzLmxvZ2luOwogICAgfSwKICAgIC8v5rOo5YaMCiAgICBzaWduVXA6IGZ1bmN0aW9uIHNpZ25VcCgpIHsKICAgICAgdmFyIF90aGlzMiA9IHRoaXM7CgogICAgICB0aGlzLiRhcGkudXNlci5zaWduVXAodGhpcy51c2VyTmFtZSwgdGhpcy51c2VyUHdkKS50aGVuKGZ1bmN0aW9uIChyZXMpIHsKICAgICAgICBpZiAocmVzLnN0YXR1cyA9PSAnMCcpIHsKICAgICAgICAgIF90aGlzMi5zZXRVc2VyKHJlcy5kYXRhKTsKCiAgICAgICAgICBfdGhpczIuJG1lc3NhZ2Uuc3VjY2Vzcygn5rOo5YaM5oiQ5Yqf77yBJyk7CgogICAgICAgICAgX3RoaXMyLiRyb3V0ZXIucHVzaCgnL215Jyk7CiAgICAgICAgfSBlbHNlIHsKICAgICAgICAgIF90aGlzMi4kbWVzc2FnZS5lcnJvcihyZXMubXNnKTsKICAgICAgICB9CiAgICAgIH0pLmNhdGNoKGZ1bmN0aW9uIChlcnIpIHsKICAgICAgICBfdGhpczIuJG1lc3NhZ2UuZXJyb3IoZXJyLm1zZyk7CiAgICAgIH0pOwogICAgfQogIH0pCn07"},{"version":3,"sources":["Login.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAoBA,SAAA,UAAA,EAAA,UAAA,QAAA,MAAA;AACA,eAAA;AACA,EAAA,IAAA,EAAA,OADA;AAEA,EAAA,IAAA,EAAA,gBAAA;AACA,WAAA;AACA,MAAA,QAAA,EAAA,EADA;AAEA,MAAA,OAAA,EAAA,EAFA;AAGA,MAAA,KAAA,EAAA;AAHA,KAAA;AAKA,GARA;AASA,EAAA,OATA,qBASA,CACA,CAVA;AAWA,EAAA,OAAA,oBACA,UAAA,CAAA,CAAA,SAAA,CAAA,CADA;AAEA;AACA,IAAA,MAHA,oBAGA;AAAA;;AACA,UAAA,CAAA,KAAA,QAAA,EAAA;AACA,aAAA,QAAA,CAAA,OAAA,CAAA,OAAA;AACA;AACA,OAHA,MAGA,IAAA,CAAA,KAAA,OAAA,EAAA;AACA,aAAA,QAAA,CAAA,OAAA,CAAA,OAAA;AACA;AACA,OAHA,MAGA;AACA,aAAA,IAAA,CAAA,IAAA,CAAA,MAAA,CAAA,KAAA,QAAA,EAAA,KAAA,OAAA,EAAA,IAAA,CAAA,UAAA,GAAA,EAAA;AACA,cAAA,GAAA,CAAA,MAAA,IAAA,GAAA,EAAA;AACA,YAAA,KAAA,CAAA,IAAA,GAAA,GAAA,CAAA,IAAA;;AACA,YAAA,KAAA,CAAA,OAAA,CAAA,GAAA,CAAA,IAAA;;AACA,YAAA,KAAA,CAAA,QAAA,CAAA,OAAA,CAAA,OAAA;;AACA,YAAA,KAAA,CAAA,OAAA,CAAA,IAAA,CAAA,KAAA;AACA,WALA,MAKA;AACA,YAAA,KAAA,CAAA,QAAA,CAAA,KAAA,CAAA,GAAA,CAAA,GAAA;AACA;AACA,SATA,EASA,KATA,CASA,UAAA,GAAA,EAAA;AACA,UAAA,KAAA,CAAA,QAAA,CAAA,KAAA,CAAA,GAAA,CAAA,GAAA;AACA,SAXA;AAYA;AAEA,KAzBA;AA0BA,IAAA,UA1BA,wBA0BA;AACA,WAAA,KAAA,GAAA,CAAA,KAAA,KAAA;AACA,KA5BA;AA6BA;AACA,IAAA,MA9BA,oBA8BA;AAAA;;AACA,WAAA,IAAA,CAAA,IAAA,CAAA,MAAA,CAAA,KAAA,QAAA,EAAA,KAAA,OAAA,EAAA,IAAA,CAAA,UAAA,GAAA,EAAA;AACA,YAAA,GAAA,CAAA,MAAA,IAAA,GAAA,EAAA;AACA,UAAA,MAAA,CAAA,OAAA,CAAA,GAAA,CAAA,IAAA;;AACA,UAAA,MAAA,CAAA,QAAA,CAAA,OAAA,CAAA,OAAA;;AACA,UAAA,MAAA,CAAA,OAAA,CAAA,IAAA,CAAA,KAAA;AACA,SAJA,MAIA;AACA,UAAA,MAAA,CAAA,QAAA,CAAA,KAAA,CAAA,GAAA,CAAA,GAAA;AACA;AACA,OARA,EAQA,KARA,CAQA,UAAA,GAAA,EAAA;AACA,QAAA,MAAA,CAAA,QAAA,CAAA,KAAA,CAAA,GAAA,CAAA,GAAA;AACA,OAVA;AAWA;AA1CA;AAXA,CAAA","sourcesContent":["<template>\r\n    <div class=\"loginContent\">\r\n      <div class=\"login\" v-if=\"login\">\r\n        <input class=\"username\" type=\"text\" name=\"username\" placeholder=\"请输入用户名\" v-model=\"userName\">\r\n        <input class=\"password\" type=\"password\" name=\"password\" placeholder=\"请输入密码\" v-model=\"userPwd\">\r\n        <el-button round size=\"medium\" class=\"add-cart\" @click=\"signIn\">登录</el-button>\r\n        <span class=\"signUp\" @click=\"showSignUp\">没有账号？立即注册</span>\r\n      </div>\r\n      <div class=\"login reg\" v-if=\"!login\">\r\n        <input class=\"username\" type=\"text\" name=\"username\" placeholder=\"请输入用户名\" v-model=\"userName\">\r\n        <input class=\"password\" type=\"password\" name=\"password\" placeholder=\"请输入密码\" v-model=\"userPwd\">\r\n        <el-button round size=\"medium\" class=\"add-cart\" @click=\"signUp\">注册</el-button>\r\n        <span class=\"signUp\" @click=\"showSignUp\">已有账号？前去登录</span>\r\n      </div>\r\n\r\n    </div>\r\n\r\n</template>\r\n\r\n<script>\r\n  import {mapActions,mapGetters} from 'vuex';\r\n  export default {\r\n    name: \"Login\",\r\n    data: () => {\r\n      return {\r\n        userName: '',\r\n        userPwd: '',\r\n        login:true,\r\n      }\r\n    },\r\n    mounted() {\r\n    },\r\n    methods: {\r\n      ...mapActions(['setUser']),\r\n      //登录\r\n      signIn() {\r\n        if(!this.userName){\r\n          this.$message.warning('请输入账号');\r\n          return;\r\n        }else if(!this.userPwd){\r\n          this.$message.warning('请输入密码');\r\n          return;\r\n        }else{\r\n          this.$api.user.signIn(this.userName, this.userPwd).then(res => {\r\n            if (res.status == '0') {\r\n              this.data = res.data;\r\n              this.setUser(res.data);\r\n              this.$message.success('登录成功！');\r\n              this.$router.push('/my');\r\n            } else {\r\n              this.$message.error(res.msg);\r\n            }\r\n          }).catch(err => {\r\n            this.$message.error(err.msg);\r\n          });\r\n        }\r\n\r\n      },\r\n      showSignUp(){\r\n        this.login = !this.login;\r\n      },\r\n      //注册\r\n      signUp(){\r\n        this.$api.user.signUp(this.userName, this.userPwd).then(res => {\r\n          if (res.status == '0') {\r\n            this.setUser(res.data);\r\n            this.$message.success('注册成功！');\r\n            this.$router.push('/my');\r\n          } else {\r\n            this.$message.error(res.msg);\r\n          }\r\n        }).catch(err => {\r\n          this.$message.error(err.msg);\r\n        });\r\n      }\r\n    }\r\n  }\r\n</script>\r\n\r\n<style lang=\"less\">\r\n  .loginContent{\r\n    display: flex;\r\n    align-items: center;\r\n    justify-content: center;\r\n    .login {\r\n      input {\r\n        display: block;\r\n        width: 280px;\r\n        height: 38px;\r\n        line-height: 38px;\r\n        text-indent: 2px;\r\n        font-size: 14px;\r\n        color: #666;\r\n        background-color: rgb(246, 244, 236);\r\n        border-bottom: 1px solid #e8e8e8;\r\n        border-top: none;\r\n        border-right: none;\r\n        border-left: none;\r\n        outline: none;\r\n        margin-bottom: 20px;\r\n      }\r\n      .signUp {\r\n        margin-left: 12px;\r\n        cursor: pointer;\r\n      }\r\n\r\n    }\r\n  }\r\n\r\n</style>\r\n"],"sourceRoot":"src/views"}]}